- id = /vendor\[vendor_printers_attributes\]\[(.*)\]/.match(f.object_name)[1]
%div{ :id => "vendor_printer_#{ id }" }
  = f.label :name, :class => 'medium'
  = f.text_field :name, :size => 9
  %span.display_keyboard{ :id => "vendor_vendor_printers_attributes_#{ id }_name_display_keyboard" }
  %br
  = f.label :path, :class => 'medium'
  = f.text_field :path, :size => 20
  %span.display_keyboard{ :id => "vendor_vendor_printers_attributes_#{ id }_path_display_keyboard" }
  %br
  = f.label :print_button_filename, :class => 'medium'
  %select#print_button_filename{ :name => "vendor[vendor_printers_attributes][#{ id }][print_button_filename]" }
    %option
    = options_for_select get_print_button_filename_array, f.object.print_button_filename
  %br
  = f.label :copies, :class => 'medium'
  = f.text_field :copies, :size => 1
  %span.display_keyboard{ :id => "vendor_vendor_printers_attributes_#{ id }_copies_display_keyboard" }
  %br
  - unless f.object.new_record?
    %span.link{ :onclick => "$('#vendor_vendor_printers_attributes_#{ id }_hidden').val(1); $('#vendor_printer_#{ id }').hide();" }= image_tag('button_small_delete.png', :title => VendorPrinter.human_attribute_name(:hidden), :alt => VendorPrinter.human_attribute_name(:hidden))

    = f.hidden_field :hidden
    %br
  %br
  
- if @current_user.onscreen_keyboard_enabled
  :javascript
    $('#vendor_vendor_printers_attributes_#{ id }_name').keyboard( {openOn: '' } );
    $('#vendor_vendor_printers_attributes_#{ id }_name_display_keyboard').click(function(){ $('#vendor_vendor_printers_attributes_#{ id }_name').getkeyboard().reveal(); });
    $('#vendor_vendor_printers_attributes_#{ id }_path').keyboard( {openOn: '' } );
    $('#vendor_vendor_printers_attributes_#{ id }_path_display_keyboard').click(function(){ $('#vendor_vendor_printers_attributes_#{ id }_path').getkeyboard().reveal(); });
    $('#vendor_vendor_printers_attributes_#{ id }_copies').keyboard( {openOn: '', layout:'num' } );
    $('#vendor_vendor_printers_attributes_#{ id }_copies_display_keyboard').click(function(){ $('#vendor_vendor_printers_attributes_#{ id }_copies').getkeyboard().reveal(); });