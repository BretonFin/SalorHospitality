%h2= @role.new_record? ? (t '.new_role') : (t '.edit_role')

- if @role.errors.any?
  .errors
    %h3= t 'activerecord.errors.template.header', :count => @role.errors.size, :model => Role.model_name.human
    %ul
      - @role.errors.full_messages.each do |msg|
        %li= msg

= form_for @role do |role_form|
  %p= submit_tag( controller.action_name == 'new' ? (t :create) : (t :edit) )
  = role_form.text_field :name, :size => '20'
  %br
  = role_form.text_field :weight, :size => '5'
  %span#role_name_display_keyboard.display_keyboard
  %br
  %br
  %h3= t '.permissions'
  %br
  %input#permissions_take_orders{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'take_orders', :checked => role_form.object.permissions.include?('take_orders') }
  %label{ :for => 'permissions_take_orders' }= t '.take_orders'
  %br
  %input#permissions_decrement_items{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'decrement_items', :checked => role_form.object.permissions.include?('decrement_items') }
  %label{ :for => 'permissions_decrement_items' }= t '.decrement_items'
  %br
  %input#permissions_delete_items{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'delete_items', :checked => role_form.object.permissions.include?('delete_items') }
  %label{ :for => 'permissions_delete_items' }= t '.delete_items'
  %br
  %input#permissions_cancel_all_items_in_active_order{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'cancel_all_items_in_active_order', :checked => role_form.object.permissions.include?('cancel_all_items_in_active_order') }
  %label{ :for => 'permissions_cancel_all_items_in_active_order' }= t '.cancel_all_items_in_active_order'
  %br
  %input#permissions_finish_orders{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'finish_orders', :checked => role_form.object.permissions.include?('finish_orders') }
  %label{ :for => 'permissions_finish_orders' }= t '.finish_orders'
  %br
  %input#permissions_split_items{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'split_items', :checked => role_form.object.permissions.include?('split_items') }
  %label{ :for => 'permissions_split_items' }= t '.split_items'
  %br
  %input#permissions_move_tables{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'move_tables', :checked => role_form.object.permissions.include?('move_tables') }
  %label{ :for => 'permissions_move_tables' }= t '.move_tables'
  %br
  %input#permissions_refund{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'refund', :checked => role_form.object.permissions.include?('refund') }
  %label{ :for => 'permissions_refund' }= t '.refund'
  %br
  %input#permissions_assign_cost_center{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'assign_cost_center', :checked => role_form.object.permissions.include?('assign_cost_center') }
  %label{ :for => 'permissions_assign_cost_center' }= t '.assign_cost_center'
  %br
  %input#permissions_assign_order_to_booking{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'assign_order_to_booking', :checked => role_form.object.permissions.include?('assign_order_to_booking') }
  %label{ :for => 'permissions_assign_order_to_booking' }= t '.assign_order_to_booking'
  %br
  %input#permissions_move_order{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'move_order', :checked => role_form.object.permissions.include?('move_order') }
  %label{ :for => 'permissions_move_order' }= t '.move_order'
  %br
  %input#permissions_manage_articles{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_articles', :checked => role_form.object.permissions.include?('manage_articles') }
  %label{ :for => 'permissions_manage_articles' }= t '.manage_articles'
  %br
  %input#permissions_manage_categories{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_categories', :checked => role_form.object.permissions.include?('manage_categories') }
  %label{ :for => 'permissions_manage_categories' }= t '.manage_categories'
  %br
  %input#permissions_manage_options{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_options', :checked => role_form.object.permissions.include?('manage_options') }
  %label{ :for => 'permissions_manage_options' }= t '.manage_options'
  %br
  %input#permissions_finish_all_settlements{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'finish_all_settlements', :checked => role_form.object.permissions.include?('finish_all_settlements') }
  %label{ :for => 'permissions_finish_all_settlements' }= t '.finish_all_settlements'
  %br
  %input#permissions_finish_own_settlement{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'finish_own_settlement', :checked => role_form.object.permissions.include?('finish_own_settlement') }
  %label{ :for => 'permissions_finish_own_settlement' }= t '.finish_own_settlement'
  %br
  %input#permissions_view_all_settlements{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'view_all_settlements', :checked => role_form.object.permissions.include?('view_all_settlements') }
  %label{ :for => 'permissions_view_all_settlements' }= t '.view_all_settlements'
  %br
  %input#permissions_manage_business_invoice{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_business_invoice', :checked => role_form.object.permissions.include?('manage_business_invoice') }
  %label{ :for => 'permissions_manage_business_invoice' }= t '.manage_business_invoice'
  %br
  %input#permissions_manage_statistics{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_statistics', :checked => role_form.object.permissions.include?('manage_statistics') }
  %label{ :for => 'permissions_manage_statistics' }= t '.manage_statistics'
  %br
  %input#permissions_manage_users{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_users', :checked => role_form.object.permissions.include?('manage_users') }
  %label{ :for => 'permissions_manage_users' }= t '.manage_users'
  %br

  %input#permissions_manage_taxes{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_taxes', :checked => role_form.object.permissions.include?('manage_taxes') }
  %label{ :for => 'permissions_manage_taxes' }= t '.manage_taxes'
  %br
  %input#permissions_manage_cost_centers{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_cost_centers', :checked => role_form.object.permissions.include?('manage_cost_centers') }
  %label{ :for => 'permissions_manage_cost_centers' }= t '.manage_cost_centers'
  %br
  %input#permissions_manage_payment_methods{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_payment_methods', :checked => role_form.object.permissions.include?('manage_payment_methods') }
  %label{ :for => 'permissions_manage_payment_methods' }= t '.manage_payment_methods'
  %br
  %input#permissions_manage_tables{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_tables', :checked => role_form.object.permissions.include?('manage_tables') }
  %label{ :for => 'permissions_manage_tables' }= t '.manage_tables'
  %br
  %input#permissions_manage_vendors{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_vendors', :checked => role_form.object.permissions.include?('manage_vendors') }
  %label{ :for => 'permissions_manage_vendors' }= t '.manage_vendors'
  %br
  %input#permissions_counter_mode{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'counter_mode', :checked => role_form.object.permissions.include?('counter_mode') }
  %label{ :for => 'permissions_counter_mode' }= t '.counter_mode'
  %br
  %input#permissions_see_item_notifications_preparation{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'see_item_notifications_preparation', :checked => role_form.object.permissions.include?('see_item_notifications_preparation') }
  %label{ :for => 'permissions_see_item_notifications_preparation' }= t '.see_item_notifications_preparation'
  %br
  %input#permissions_see_item_notifications_delivery{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'see_item_notifications_delivery', :checked => role_form.object.permissions.include?('see_item_notifications_delivery') }
  %label{ :for => 'permissions_see_item_notifications_delivery' }= t '.see_item_notifications_delivery'
  %br
  %input#permissions_see_item_notifications_vendor{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'see_item_notifications_vendor', :checked => role_form.object.permissions.include?('see_item_notifications_vendor') }
  %label{ :for => 'permissions_see_item_notifications_vendor' }= t '.see_item_notifications_vendor'
  %br
  %input#permissions_manage_pages{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_pages', :checked => role_form.object.permissions.include?('manage_pages') }
  %label{ :for => 'permissions_manage_pages' }= t '.manage_pages'
  %br
  %input#permissions_manage_customers{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_customers', :checked => role_form.object.permissions.include?('manage_customers') }
  %label{ :for => 'permissions_manage_customers' }= t '.manage_customers'
  %br
  %input#permissions_see_debug{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'see_debug', :checked => role_form.object.permissions.include?('see_debug') }
  %label{ :for => 'permissions_see_debug' }= t '.see_debug'
  %br
  %input#permissions_manage_hotel{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_hotel', :checked => role_form.object.permissions.include?('manage_hotel') }
  %label{ :for => 'permissions_manage_hotel' }= t '.manage_hotel'
  %br
  %input#permissions_manage_roles{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'manage_roles', :checked => role_form.object.permissions.include?('manage_roles') }
  %label{ :for => 'permissions_manage_roles' }= t '.manage_roles'
  %br
  %input#permissions_item_scribe{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'item_scribe', :checked => role_form.object.permissions.include?('item_scribe') }
  %label{ :for => 'permissions_item_scribe' }= t '.item_scribe'
  %br
  %input#permissions_assign_tables{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'assign_tables', :checked => role_form.object.permissions.include?('assign_tables') }
  %label{ :for => 'permissions_assign_tables' }= t '.assign_tables'
  %br
  %input#permissions_download_database{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'download_database', :checked => role_form.object.permissions.include?('download_database') }
  %label{ :for => 'permissions_download_database' }= t '.download_database'
  %br
  %input#permissions_remote_support{ :type => 'checkbox', :name => 'role[permissions][]', :value => 'remote_support', :checked => role_form.object.permissions.include?('remote_support') }
  %label{ :for => 'permissions_remote_support' }= t '.remote_support'

:javascript
  $('#role_name').keyboard( {openOn: '' } );
  $('#role_name_display_keyboard').click(function(){
    $('#role_name').getkeyboard().reveal();
  });
