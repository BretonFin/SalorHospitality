%style= generate_item_style

= error_messages_for 'category'

- form_for @category do |category_form|
  %fieldset
    %legend= t :category
    %table
      %tr
        %td
          = category_form.label('name', "#{ t :name }*")
        %td
          = category_form.text_field :name, :size => '20'
      %tr
        %td
          = category_form.label('sort_order', "#{ t :sort_order }")
        %td
          = category_form.text_field :sort_order, :size => '20'
      %tr
        %td
          = category_form.label('tax_id', "#{ t :tax }*")
        %td
          = category_form.collection_select :tax_id, Tax.all, :id, :custom_name, { :include_blank => true }
      %tr
        %td
          = category_form.label('icon', "#{ t :icon }*")
        %td
          %select#category_icon{ :name => 'category[icon]', :size => 2 }
            = options_for_select(get_icon_array, category_form.object.icon)
      %tr
        %td
          = category_form.label('color', t(:color))
        %td
          %select#category_color{ :name => 'category[color]', :size => 2 }
            = options_for_select(get_color_array, category_form.object.color)

  %p= submit_tag( controller.action_name == 'new' ? (t :create) : (t :edit) )
